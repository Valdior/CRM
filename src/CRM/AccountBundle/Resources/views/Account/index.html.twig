{% extends "CRMAccountBundle::layout.html.twig" %}

{% block title %}Accueil - {{ parent() }}{% endblock %}

{% block accountbody %}                 
<div id="toolbar" class="btn-group">
    <a href="{{ path('crm_account_add') }}" class="btn btn-default">
        <i class="glyphicon glyphicon-plus"></i>
    </a>
    <a href="" class="btn btn-default">
        <i class="glyphicon glyphicon-trash"></i>
    </a>
</div>  
<table data-toggle="table"
       data-url="{{ path('crm_account_list_json') }}"
       data-click-to-select="true"
       data-search="true"
       data-show-refresh="true"
       data-show-toggle="true"
       data-show-columns="true"
       data-query-params="queryParams"
       data-pagination="true"
       data-sort-name="name"
       data-sort-order="asc"
       data-toolbar="#toolbar">
    <thead>
    <tr>
        <th data-field="state" data-checkbox="true"></th>
        <th data-field="name" data-sortable="true">Nom</th>
        <th data-field="adresse" data-sortable="true" data-editable="text">Adresse</th>
        <th data-field="contact" data-sortable="true">Contact</th>
        <th data-field="siteWeb" data-sortable="true">Site Web</th>
        <th data-field="tva" data-sortable="true">T.V.A</th>
        <th data-field="phone" data-sortable="true">Téléphone</th>
        <th data-field="fax" data-sortable="true">FAX</th>
    </tr>
    </thead>
</table>
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script>
function queryParams() {
    return {
        type: 'owner',
        sort: 'updated',
        direction: 'desc',
        per_page: 1,
        page: 1
    };
} 
</script>
{% endblock %}    